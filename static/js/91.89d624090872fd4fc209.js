(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{405:function(s,a,t){"use strict";t.r(a);var l=t(1);const n={class:"zarm-vue-demo"},e={class:"za-panel"},p=Object(l.createVNode)("div",{class:"za-panel__header"},[Object(l.createVNode)("div",{class:"za-panel__title"},"基本用法 ")],-1),c={class:"za-panel__body"},i={class:"uploader-wrapper",style:{display:"flex",padding:"15px"}},h={class:"uploader-item-img"},r={class:"uploader-wrapper"},o={class:"za-panel"},d=Object(l.createVNode)("div",{class:"za-panel__header"},[Object(l.createVNode)("div",{class:"za-panel__title"},"多选模式 ")],-1),j={class:"za-panel__body"},g={class:"uploader-wrapper",style:{display:"flex",padding:"15px"}},u={class:"uploader-item-img"},b={class:"uploader-wrapper"},m=Object(l.createTextVNode)("删除成功"),f={class:"za-panel"},y=Object(l.createVNode)("div",{class:"za-panel__header"},[Object(l.createVNode)("div",{class:"za-panel__title"},"禁用状态 ")],-1),x={class:"za-panel__body"},q={class:"uploader-wrapper",style:{display:"flex",padding:"15px"}},v={class:"uploader-wrapper"},k=Object(l.createStaticVNode)('<div class="zarm-markdown-doc"><h2>文件选择器 FilePicker</h2><div class="demo custom-block"><p class="custom-block-title">基本用法</p><pre class="hljs"><code><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;uploader-wrapper&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;display:flex;padding:15px;&quot;</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">za-badge</span> <span class="hljs-attr">sup</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(i, index) in files&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;uploader-item&quot;</span> <span class="hljs-attr">shape</span>=<span class="hljs-string">&quot;circle&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;index&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;remove(index)&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;display:inline-block;margin-right:15px;align-items: center;justify-content: center;width:74px;height:74px;border:2px solid #ddd;&quot;</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-slot:text</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">za-icon</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;wrong&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;font-size:10px;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">za-icon</span>&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;uploader-item-img&quot;</span>&gt;</span>\n      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">:href</span>=<span class="hljs-string">&quot;i.thumbnail&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;_blank&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">:src</span>=<span class="hljs-string">&quot;i.thumbnail&quot;</span> <span class="hljs-attr">alt</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>\n    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-name">za-badge</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;uploader-wrapper&quot;</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">za-file-picker</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;uploader-btn&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;display:flex;align-items: center;justify-content: center;width:74px;height:74px;border:2px dashed #ddd;&quot;</span> <span class="hljs-attr">accept</span>=<span class="hljs-string">&quot;image/jpg, image/jpeg, image/gif, image/png&quot;</span> @<span class="hljs-attr">change</span>=<span class="hljs-string">&quot;handleChange&quot;</span>&gt;</span>\n      <span class="hljs-tag">&lt;<span class="hljs-name">za-icon</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;add&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;fontSize:30px;&quot;</span>&gt;</span>\n    <span class="hljs-tag">&lt;/<span class="hljs-name">za-icon</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">za-file-picker</span>&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>\n</code></pre></div><div class="demo custom-block"><p class="custom-block-title">多选模式</p><pre class="hljs"><code><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;uploader-wrapper&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;display:flex;padding:15px;&quot;</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">za-badge</span> <span class="hljs-attr">sup</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(i, index) in fileList&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;uploader-item&quot;</span> <span class="hljs-attr">shape</span>=<span class="hljs-string">&quot;circle&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;index&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;remove2(index)&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;display:inline-block;margin-right:15px;align-items: center;justify-content: center;width:74px;height:74px;border:2px solid #ddd;&quot;</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-slot:text</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">za-icon</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;wrong&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;font-size:10px;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">za-icon</span>&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;uploader-item-img&quot;</span>&gt;</span>\n      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">:href</span>=<span class="hljs-string">&quot;i.thumbnail&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;_blank&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">:src</span>=<span class="hljs-string">&quot;i.thumbnail&quot;</span> <span class="hljs-attr">alt</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>\n    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-name">za-badge</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;uploader-wrapper&quot;</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">za-file-picker</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;fileList.length &lt; 5&quot;</span> <span class="hljs-attr">multiple</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;uploader-btn&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;display:flex;align-items: center;justify-content: center;width:74px;height:74px;border:2px dashed #ddd;&quot;</span> <span class="hljs-attr">:before-select</span>=<span class="hljs-string">&quot;beforeSelect&quot;</span> <span class="hljs-attr">accept</span>=<span class="hljs-string">&quot;image/jpg, image/jpeg, image/gif, image/png&quot;</span> @<span class="hljs-attr">change</span>=<span class="hljs-string">&quot;handleChangeMulti&quot;</span>&gt;</span>\n      <span class="hljs-tag">&lt;<span class="hljs-name">za-icon</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;add&quot;</span>&gt;</span>\n    <span class="hljs-tag">&lt;/<span class="hljs-name">za-icon</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">za-file-picker</span>&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-name">za-toast</span> <span class="hljs-attr">:visible.sync</span>=<span class="hljs-string">&quot;visible&quot;</span> <span class="hljs-attr">:duration</span>=<span class="hljs-string">&quot;1000&quot;</span>&gt;</span>删除成功<span class="hljs-tag">&lt;/<span class="hljs-name">za-toast</span>&gt;</span>\n</code></pre></div><div class="demo custom-block"><p class="custom-block-title">禁用状态</p><pre class="hljs"><code><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;uploader-wrapper&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;display:flex;padding:15px;&quot;</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;uploader-wrapper&quot;</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">za-file-picker</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;uploader-btn&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;display:flex;align-items: center;justify-content: center;width:74px;height:74px;border:2px dashed #ddd;&quot;</span> <span class="hljs-attr">disabled</span>&gt;</span>\n      <span class="hljs-tag">&lt;<span class="hljs-name">za-icon</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;add&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;fontSize:30px;&quot;</span>&gt;</span>\n    <span class="hljs-tag">&lt;/<span class="hljs-name">za-icon</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">za-file-picker</span>&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>\n</code></pre></div><h3>Vue Script</h3><pre class="hljs"><code>&lt;script name=<span class="hljs-string">&quot;vue&quot;</span>&gt;\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {\n  data() {\n    <span class="hljs-keyword">return</span> {\n      <span class="hljs-attr">files</span>: [],\n      <span class="hljs-attr">fileList</span>: [],\n      <span class="hljs-attr">visible</span>: <span class="hljs-literal">false</span>,\n    }\n  },\n  <span class="hljs-attr">methods</span>: {\n    handleChange(data){\n      <span class="hljs-built_in">console</span>.log(data);\n      <span class="hljs-keyword">this</span>.files.push(data)\n    },\n    handleChangeMulti(dataList){\n      <span class="hljs-keyword">if</span>(dataList.length + <span class="hljs-keyword">this</span>.fileList.length &gt; <span class="hljs-number">5</span>){\n        alert(<span class="hljs-string">&#39;超过5张&#39;</span>)\n        <span class="hljs-keyword">this</span>.fileList = <span class="hljs-keyword">this</span>.fileList.concat(...(dataList.slice(<span class="hljs-number">0</span>, <span class="hljs-number">5</span> - <span class="hljs-keyword">this</span>.fileList.length)));\n      }<span class="hljs-keyword">else</span>{\n        <span class="hljs-keyword">this</span>.fileList = <span class="hljs-keyword">this</span>.fileList.concat(...dataList);\n      }\n    },\n    remove(index){\n      <span class="hljs-keyword">this</span>.files.splice(index, <span class="hljs-number">1</span>);\n      <span class="hljs-keyword">this</span>.visible = <span class="hljs-literal">true</span>\n    },\n    remove2(index){\n      <span class="hljs-keyword">this</span>.fileList.splice(index, <span class="hljs-number">1</span>);\n      <span class="hljs-keyword">this</span>.visible = <span class="hljs-literal">true</span>\n    },\n    beforeSelect(){\n      <span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.fileList.length &gt; <span class="hljs-number">5</span>){\n        alert(<span class="hljs-string">&#39;超过5张&#39;</span>)\n        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>\n      }<span class="hljs-keyword">else</span>{\n        alert(<span class="hljs-string">&#39;before select&#39;</span>)\n      }\n    }\n  },\n};\n&lt;<span class="hljs-regexp">/script&gt;\n</span></code></pre><h3>API</h3><h4>Uploader</h4><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">类型</th><th style="text-align:left;">默认值</th><th style="text-align:left;">可选值／参数</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">accept</td><td style="text-align:left;">string</td><td style="text-align:left;"></td><td style="text-align:left;"></td><td style="text-align:left;">允许上传的附件格式,参考 File 文件类型</td></tr><tr><td style="text-align:left;">multiple</td><td style="text-align:left;">boolean</td><td style="text-align:left;">false</td><td style="text-align:left;"></td><td style="text-align:left;">是否支持多选</td></tr><tr><td style="text-align:left;">disabled</td><td style="text-align:left;">boolean</td><td style="text-align:left;">false</td><td style="text-align:left;"></td><td style="text-align:left;">是否禁用</td></tr></tbody></table><h4>Uploader Event</h4><table><thead><tr><th style="text-align:left;">事件名称</th><th style="text-align:left;">说明</th><th style="text-align:left;">回调参数</th></tr></thead><tbody><tr><td style="text-align:left;">before-select</td><td style="text-align:left;">选择前触发的事件</td><td style="text-align:left;">() =&gt; boolean</td></tr><tr><td style="text-align:left;">change</td><td style="text-align:left;">值变化时触发的回调函数。multiple 为 true 时，返回文件数组格式，否则为文件对象</td><td style="text-align:left;">(file?: object | object[]) =&gt; void</td></tr></tbody></table></div>',1);var O={data:()=>({files:[],fileList:[],visible:!1}),methods:{handleChange(s){console.log(s),this.files.push(s)},handleChangeMulti(s){s.length+this.fileList.length>5?(alert("超过5张"),this.fileList=this.fileList.concat(...s.slice(0,5-this.fileList.length))):this.fileList=this.fileList.concat(...s)},remove(s){this.files.splice(s,1),this.visible=!0},remove2(s){this.fileList.splice(s,1),this.visible=!0},beforeSelect(){if(this.fileList.length>5)return alert("超过5张"),!1;alert("before select")}},render:function(s,a,t,O,w,z){const V=Object(l.resolveComponent)("za-icon"),N=Object(l.resolveComponent)("za-badge"),C=Object(l.resolveComponent)("za-file-picker"),_=Object(l.resolveComponent)("za-toast");return Object(l.openBlock)(),Object(l.createBlock)("div",null,[Object(l.createVNode)("div",n,[Object(l.createVNode)("div",e,[p,Object(l.createVNode)("div",c,[Object(l.createVNode)("div",i,[(Object(l.openBlock)(!0),Object(l.createBlock)(l.Fragment,null,Object(l.renderList)(w.files,(s,a)=>(Object(l.openBlock)(),Object(l.createBlock)(N,{sup:"",class:"uploader-item",shape:"circle",key:a,onClick:s=>z.remove(a),style:{display:"inline-block","margin-right":"15px","align-items":"center","justify-content":"center",width:"74px",height:"74px",border:"2px solid #ddd"}},{text:Object(l.withCtx)(()=>[Object(l.createVNode)(V,{type:"wrong",style:{"font-size":"10px"}})]),default:Object(l.withCtx)(()=>[Object(l.createVNode)("div",h,[Object(l.createVNode)("a",{href:s.thumbnail,target:"_blank"},[Object(l.createVNode)("img",{src:s.thumbnail,alt:""},null,8,["src"])],8,["href"])])]),_:2},1032,["onClick"]))),128)),Object(l.createVNode)("div",r,[Object(l.createVNode)(C,{class:"uploader-btn",style:{display:"flex","align-items":"center","justify-content":"center",width:"74px",height:"74px",border:"2px dashed #ddd"},accept:"image/jpg, image/jpeg, image/gif, image/png",onChange:z.handleChange},{default:Object(l.withCtx)(()=>[Object(l.createVNode)(V,{type:"add",style:{fontSize:"30px"}})]),_:1},8,["onChange"])])])])]),Object(l.createVNode)("div",o,[d,Object(l.createVNode)("div",j,[Object(l.createVNode)("div",g,[(Object(l.openBlock)(!0),Object(l.createBlock)(l.Fragment,null,Object(l.renderList)(w.fileList,(s,a)=>(Object(l.openBlock)(),Object(l.createBlock)(N,{sup:"",class:"uploader-item",shape:"circle",key:a,onClick:s=>z.remove2(a),style:{display:"inline-block","margin-right":"15px","align-items":"center","justify-content":"center",width:"74px",height:"74px",border:"2px solid #ddd"}},{text:Object(l.withCtx)(()=>[Object(l.createVNode)(V,{type:"wrong",style:{"font-size":"10px"}})]),default:Object(l.withCtx)(()=>[Object(l.createVNode)("div",u,[Object(l.createVNode)("a",{href:s.thumbnail,target:"_blank"},[Object(l.createVNode)("img",{src:s.thumbnail,alt:""},null,8,["src"])],8,["href"])])]),_:2},1032,["onClick"]))),128)),Object(l.createVNode)("div",b,[w.fileList.length<5?(Object(l.openBlock)(),Object(l.createBlock)(C,{key:0,multiple:"",class:"uploader-btn",style:{display:"flex","align-items":"center","justify-content":"center",width:"74px",height:"74px",border:"2px dashed #ddd"},"before-select":z.beforeSelect,accept:"image/jpg, image/jpeg, image/gif, image/png",onChange:z.handleChangeMulti},{default:Object(l.withCtx)(()=>[Object(l.createVNode)(V,{type:"add"})]),_:1},8,["before-select","onChange"])):Object(l.createCommentVNode)("",!0)])]),Object(l.createVNode)(_,{visible:w.visible,duration:1e3},{default:Object(l.withCtx)(()=>[m]),_:1},8,["visible"])])]),Object(l.createVNode)("div",f,[y,Object(l.createVNode)("div",x,[Object(l.createVNode)("div",q,[Object(l.createVNode)("div",v,[Object(l.createVNode)(C,{class:"uploader-btn",style:{display:"flex","align-items":"center","justify-content":"center",width:"74px",height:"74px",border:"2px dashed #ddd"},disabled:""},{default:Object(l.withCtx)(()=>[Object(l.createVNode)(V,{type:"add",style:{fontSize:"30px"}})]),_:1})])])])])]),k])}};a.default=O}}]);